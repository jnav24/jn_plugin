jQuery(function(e){function t(t,o,n){confirm("Are you want to remove this?")&&e.ajax({url:window.location.href,method:"POST",data:{id:t,page_action:o},success:function(t){console.log(t),n.fadeOut(function(){e(this).remove()})}})}function o(){var t,o=this;this.confirm=function(e,t){return this.showPopup(e),t()},this.showPopup=function(t){e(".popup__container").addClass("show"),e("<p>"+t+"</p>").prependTo(".popup__container--box .popup__container--msgs")},this.hidePopup=function(){e(".popup__container").removeClass("show"),e(".popup__container--msgs").text("")},this.setResponse=function(e){t=e},this.getResponse=function(){return null!=t&&"undefined"!=typeof t?t:void setTimeout(function(){console.log("run..."),o.getResponse()},1e4)},this.getValue=function(){return t}}e('a[href="#"]').on("click",function(e){e.preventDefault()});var n=function(t){var o=e("input[name*='"+t+"']").length;return t+"_"+o};e(".module_list .module_each").draggable({appendTo:"body",helper:"clone"}),e(".module_create").droppable({accept:":not(.ui-sortable-helper)",drop:function(t,o){var a=o.draggable.context.outerHTML,i=o.draggable.context.attributes["data-module"].value;e(a.replace("ui-draggable ui-draggable-handle","")).html("<input type='hidden' name='modules["+n(i)+"]'>").appendTo(this)}}).sortable(),e(".wp-list-table").on("click",".remove_media",function(){var o=e(this).data("id"),n=e(this).closest("tr");t(o,"delete",n)}),e(".col_container").on("click",".remove_module",function(){var o=e(this).data("id"),n=e(this).closest(".module_each");t(o,"module-delete",n)});var a,i=new o;e("body").on("click",".test",function(){i.confirm("Are you sure?")}),e(".popup a").on("click",function(){i.hidePopup(),i.setResponse(e(this).data("respond")),a=e(this).data("respond")}),e(".module__layout").each(function(t,o){var n=e(o).data("module"),a="modules["+n+"_"+e(".module__layout").index(e(o))+"]";e(o).find("input, select, textarea").each(function(t,o){var n=e(o).attr("name");e(o).attr("name",n.replace(n,a))})})});