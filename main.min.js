jQuery(function(e){function o(){this.deleteRow=function(o,t){e.ajax({url:window.location.href,method:"POST",data:{id:o,page_action:t},success:function(e){}})}}function t(){var t,a=function(a){var n=a.data("respond");if(n>0){t.row.fadeOut(function(){e(this).remove()});var i=new o;i.deleteRow(t.id,t["delete"])}};this.confirm=function(e,o){t=o,this.showPopup(e)},this.showPopup=function(o){e(".popup__container").removeClass("hide"),setTimeout(function(){e(".popup__bkgd").fadeIn(),e(".popup__container").addClass("show"),e("<p>"+o+"</p>").prependTo(".popup__container--box .popup__container--msgs")},250)},this.hidePopup=function(o){e(".popup__container").removeClass("show"),e(".popup__bkgd").fadeOut(),setTimeout(function(){e(".popup__container--msgs").text(""),e(".popup__container").addClass("hide")},500),a(o)}}e('a[href="#"]').on("click",function(e){e.preventDefault()}),e('<div class="popup popup__bkgd"></div>').appendTo("body");var a=new t;e(".popup a").on("click",function(){a.hidePopup(e(this))});var n=function(o){var t=e("input[name*='"+o+"']").length;return o+"_"+t};e(".module_list .module_each").draggable({appendTo:"body",helper:"clone"}),e(".module_create").droppable({accept:":not(.ui-sortable-helper)",drop:function(o,t){var a=t.draggable.context.outerHTML,i=t.draggable.context.attributes["data-module"].value,u=t.draggable.context.attributes["data-image"].value;e(a.replace("ui-draggable ui-draggable-handle","")).html("<div class='module_close'><i class='fa fa-trash'></i></div><img src='"+u+"'><input type='hidden' name='modules["+n(i)+"]'>").appendTo(this)}}).sortable(),e(".wp-list-table").on("click",".remove_media",function(){var o={"delete":"delete",id:e(this).data("id"),row:e(this).closest("tr")};a.confirm("Are you sure?",o)}),e(".col_container").on("click",".remove_module",function(){var o={"delete":"module-delete",id:e(this).data("id"),row:e(this).closest(".module_each")};a.confirm("Are you sure?",o)}),e(".module_create").on("click",".module_close",function(){var o={"delete":"",id:"",row:e(this).closest(".module_each")};a.confirm("Are you sure you want to delete this module?",o)}),e(".module__layout").each(function(o,t){var a=e(t).data("module"),n="modules["+a+"_"+e(".module__layout").index(e(t))+"]";e(t).find("input, select, textarea").each(function(o,t){var a=e(t).attr("name");e(t).attr("name",a.replace(a,n))})})});